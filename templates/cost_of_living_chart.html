
{% extends 'base.html' %}
{% block content %}

<script type="text/javascript">
$("#cost").attr("class", "active")
$("#home").attr("class", "inactive")

</script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.1/Chart.min.js"></script>
<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>

<style type="text/css">
    .canvas{
        margin:10px; padding:10px;
    }
</style>

<div id="cost-living">
  <canvas id="barChart"  width="700" height="400"></canvas>
</div>

<div  id="price-items" class="container-fluid">
        <div class="row">
          <div class="col-md-4">
            <canvas id="restaurant-bar-Chart" class="canvas"></canvas>
          </div>
          <div class="col-md-4">
            <canvas id="clothing-bar-Chart" class="canvas"></canvas>
          </div>
          <div class="col-md-4">
             <canvas id="market-bar-Chart" class="canvas"></canvas>
          </div>
        
        </div>
        <div class="row">
          <div class="col-md-4">
            <canvas id="transportation-bar-Chart" class="canvas"></canvas>
          </div>
          <div class="col-md-4">
            <canvas id="rent-bar-Chart" class="canvas"></canvas>
          </div>
          <div class="col-md-4">
             <canvas id="buyApt-bar-Chart" class="canvas"></canvas>
          </div>
        
        </div>
</div>






              
<script>


               $.get("/cost_of_living-chart-data?zipcode={{ zipcode }}", makeBarChart);
                function makeBarChart(data){
                var labels = []
                var input_data = []
               
                for(var k in data){
                    
                    labels.push(k);
                    input_data.push(data[k]);
                }
              
                var canvas = document.getElementById('barChart');
                var ctx = canvas.getContext("2d");
                console.log(input_data);

                var data = {
                    labels: labels,

                    datasets: [
                        {
                            label: {{ zipcode }},

                            backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)',
                        'rgba(72, 228, 228, 0.2)',
                        'rgba(201, 27, 114, 0.2)',
                        'rgba(43, 236, 47, 0.2)',
                        'rgba(99, 97, 239, 0.2)',
                        'rgba(35, 171, 229, 0.2)',
                        'rgba(95, 39, 225, 0.2)',
                        'rgba(235, 64, 29, 0.2)',
                        'rgba(186, 23, 158, 0.2)',
                        'rgba(57, 213, 161, 0.2)',
                        'rgba(115, 20, 163, 0.2)'

                         ],
                         borderColor: [
                        'rgba(255,99,132,1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)',
                        'rgba(72, 228, 228, 1)',
                        'rgba(201, 27, 114, 1)',
                        'rgba(43, 236, 47, 1)',
                        'rgba(99, 97, 239, 1)',
                        'rgba(35, 171, 229, 1)',
                        'rgba(95, 39, 225, 1)',
                        'rgba(235, 64, 29, 1)',
                        'rgba(186, 23, 158, 1)',
                        'rgba(57, 213, 161, 1)',
                        'rgba(115, 20, 163, 1)'

                        ],
                        borderWidth: 1,
                        data: input_data
                        }
                    ]

                };

                var mybarChart = new Chart(ctx, {
                    type: 'bar',
                    data: data,
                    options: {
                             scales:{
                                yAxes: [{

                                        stacked: true,
                                        gridLines: {
                                        display: false
                                        }

                                        }],
                                xAxes: [{
                                        // ticks: {
                                        //     display: false
                                        // },
                                        // display: false,
                                        stacked: true,
                                        gridLines: {
                                        display: false
                                        }

                                        }],
                                
                                    }
                                }
                
                }); 

            }

</script>


     
<div>
<script>
            
            $.get("/show_price_chart_data?zipcode={{ zipcode }}", makePriceBarChart);
            function makePriceBarChart(data){
                var labels = []
                var input_data = []
                var restaurants = data['restaurants']
                for(var k in restaurants){ 
                    // k = k.split("(")[0];
                    labels.push(k);
                    input_data.push(restaurants[k]);
                }

              
                var canvas = document.getElementById('restaurant-bar-Chart');
                var ctx = canvas.getContext("2d");

                var data = {
                    labels: labels,

                    datasets: [
                        {
                            label: "Restaurant prices",

                            backgroundColor: 'rgb(49, 205, 127)',
                         
                            borderColor: 'rgb(49, 205, 127)',
                        
                            borderWidth: 3,
                            data: input_data
                        }
                    ]

                };

                var mybarChart = new Chart(ctx, {
                    type: 'bar',
                    data: data,
                    options: {
                             scales:{
                                yAxes: [{

                                        stacked: true,
                                        gridLines: {
                                        display: false
                                        }

                                        }],
                                xAxes: [{
                                        ticks: {
                                            display: false
                                        },
                                        // display: false,
                                        stacked: true,
                                        gridLines: {
                                        display: false
                                        }

                                        }],
                                
                                    }
                                }

                }); 

        }

</script>



<script>
           
            $.get("/show_price_chart_data?zipcode={{ zipcode }}", makePriceBarChart);
            function makePriceBarChart(data){
                var labels = []
                var input_data = []
                var clothing = data['clothing_and_shoes']
                for(var k in clothing){ 
                    // k = k.split("(")[0];
                    labels.push(k);
                    input_data.push(clothing[k]);
                }

              
                var canvas = document.getElementById('clothing-bar-Chart');
                var ctx = canvas.getContext("2d");

                var data = {
                    labels: labels,

                    datasets: [
                        {
                            label: "Clothing and Shoes",

                            backgroundColor: 'rgb(49, 205, 127)',
                         
                            borderColor: 'rgb(49, 205, 127)',
                        
                            borderWidth: 1,
                            data: input_data
                        }
                    ]

                };

                var mybarChart = new Chart(ctx, {
                    type: 'bar',
                    data: data,
                    options: {
                             scales:{
                                yAxes: [{
                                        stacked: true,
                                        gridLines: {
                                            display: false
                                        }

                                        }],
                                xAxes: [{
                                        ticks: {
                                            display: false
                                        },
                                        stacked: true,
                                        gridLines: {
                                            display: false
                                        }

                                        }]
                                    }
                                }

                }); 

        }

</script>    

<script>
           
            $.get("/show_price_chart_data?zipcode={{ zipcode }}", makePriceBarChart);
            function makePriceBarChart(data){
                var labels = []
                var input_data = []
                var markets = data['markets']
                for(var k in markets){ 
                    // k = k.split("(")[0];
                    labels.push(k);
                    input_data.push(markets[k]);
                }

              
                var canvas = document.getElementById('market-bar-Chart');
                var ctx = canvas.getContext("2d");

                var data = {
                    labels: labels,

                    datasets: [
                        {
                            label: "Market prices",

                            backgroundColor: 'rgb(49, 205, 127)',
                         
                            borderColor: 'rgb(49, 205, 127)',
                        
                            borderWidth: 3,
                            data: input_data
                        }
                    ]

                };

                var mybarChart = new Chart(ctx, {
                    type: 'bar',
                    data: data,
                    options: {
                             scales:{

                                        
                                yAxes: [{
                                        stacked: true,
                                        gridLines: {
                                            display: false
                                        }

                                        }],
                                xAxes: [{

                                        ticks: {

                                            display: false
                                        },

                                        stacked: true,

                                        gridLines: {
                                            display: false
                                        }

                                        }]
                                    }
                                }

                }); 

        }

</script>    


<script>
           
            $.get("/show_price_chart_data?zipcode={{ zipcode }}", makePriceBarChart);
            function makePriceBarChart(data){
                var labels = [];
                var input_data = [];
                var transportation = data['transportation'];
                for(var k in transportation){ 
                    // k = k.split("(")[0];
                    labels.push(k);
                    input_data.push(transportation[k]);
                }                                 
                var canvas = document.getElementById('transportation-bar-Chart');
                var ctx = canvas.getContext("2d");

                var data = {
                    labels: labels,

                    datasets: [
                            {
                            label: "Transportation",

                            backgroundColor: 'rgb(49, 205, 127)',
                         
                            borderColor: 'rgb(49, 205, 127)',
                            borderWidth: 3,
                            data: input_data
                            }
                        ]
                   };

                var mybarChart = new Chart(ctx, {
                    type: 'bar',
                    data: data,
                    options: {
                             scales:{
                                yAxes: [{
                                        stacked: true,
                                        gridLines: {
                                        display: false
                                        }

                                        }],
                                xAxes: [{
                                        ticks: {
                                            display: false
                                        },
                                        stacked: true,
                                        gridLines: {
                                        display: false
                                        }

                                        }]
                                    }
                                }

                }); 

        }

</script>    

<script>
           
            $.get("/show_price_chart_data?zipcode={{ zipcode }}", makePriceBarChart);
            function makePriceBarChart(data){
                var labels = [];
                var input_data = [];
                var rent = data['rent_per_month'];

                for(var k in rent){ 
                   
                    labels.push(k);
                    input_data.push(rent[k]);
                }                   
    
              
                var canvas = document.getElementById('rent-bar-Chart');
                var ctx = canvas.getContext("2d");

                var data = {
                    labels: labels,

                    datasets: [
                            {
                            label: "Rent per Month",

                            backgroundColor: 'rgb(49, 205, 127)',
                         
                            borderColor: 'rgb(49, 205, 127)',
                            borderWidth: 3,
                            data: input_data
                            }
                        ]
  
                   };

                var mybarChart = new Chart(ctx, {
                    type: 'bar',
                    data: data,
                    options: {
                             scales:{
                                yAxes: [{
                                        // stacked: true,
                                        gridLines: {
                                        display: false
                                        }

                                        }],
                                xAxes: [{
                                        ticks: {
                                            display: false
                                        },
                                        // stacked: true,
                                        gridLines: {
                                        display: false
                                        }

                                        }]
                                    }
                        


                                }

                }); 

        }

</script>    
<script>
            
            $.get("/show_price_chart_data?zipcode={{ zipcode }}", makePriceBarChart);
            function makePriceBarChart(data){
                var labels = [];
                var input_data = [];
                var buy_apt = data['buy_apt_price'];
                for(var k in buy_apt){ 
                    // k = k.split("(")[0];
                    labels.push(k);
                    input_data.push(buy_apt[k]);
                }                                 
                var canvas = document.getElementById('buyApt-bar-Chart');
                var ctx = canvas.getContext("2d");

                var data = {
                    labels: labels,
                


                    datasets: [
                            {
                            label: "Buying Apartment",

                            backgroundColor: 'rgb(49, 205, 127)',
                         
                            borderColor: 'rgb(49, 205, 127)',
                            borderWidth: 3,
                            data: input_data
                            }
                        ]
                   };

                var mybarChart = new Chart(ctx, {
                    type: 'bar',
                    data: data,
                    options: {
                             scales:{
                                yAxes: [{
                                        stacked: true,
                                        gridLines: {
                                        display: false
                                        }

                                        }],
                                xAxes: [{
                                        ticks: {
                                            display: false
                                        },
                                        stacked: true,
                                        gridLines: {
                                        display: false
                                        }

                                        }]
                                    }
                                }

                }); 

        }

</script>    
<script>
           
            $.get("/show_price_chart_data?zipcode={{ zipcode }}", makePriceBarChart);
            function makePriceBarChart(data){
                var labels = [];
                var input_data = [];
                var sports = data['sports_and_leisure'];
                for(var k in sports){ 
                 
                    labels.push(k);
                    input_data.push(sports[k]);
                }                                 
                var canvas = document.getElementById('sports-bar-Chart');
                var ctx = canvas.getContext("2d");

                var data = {
                    labels: labels,

                    datasets: [
                            {
                            label: "Sports and Leisure",

                            backgroundColor: 'rgb(49, 205, 127)',
                         
                            borderColor: 'rgb(49, 205, 127)',
                            borderWidth: 3,
                            data: input_data
                            }
                        ]
                   };

                var mybarChart = new Chart(ctx, {
                    type: 'bar',
                    data: data,
                    options: {
                             scales:{
                                yAxes: [{
                                        stacked: true,
                                        gridLines: {
                                        display: false
                                        }

                                        }],
                                xAxes: [{
                                        ticks: {
                                            display: false
                                        },
                                        stacked: true,
                                        gridLines: {
                                        display: false
                                        }

                                        }]
                                    }
                                }

                }); 

        }

</script>    
</div>

      
         
        <!-- <div id="salary_results"></div>
         <img src="http://www.easiestcreditcard.net/wp-content/uploads/2014/03/house-mortgage.jpg" class="img-circle" alt="Cinque Terre" width="304" height="236">
 -->
        //  <script>

        //     $.get("/show_price_chart_data?zipcode={{ zipcode }}", showSalaryMortgage);
        //     function showSalaryMortgage(data){
        //         var salaries = data['salaries_and_fin'];
        //         for(var k in salaries){ 
        //             $("#salary_results").append("<p>"+k+ ": " +"<b>"+salaries[k]+ "</p>");            
        //                console.log(k, salaries[k]);
        //         }                                 
        //     };
        // </script>





<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.1/Chart.min.js"></script>
<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>

<!-- Bootstrap tab menu for cost of living prices  -->

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
            <div class="navbar-header">
              <a class="navbar-brand" href="/">Help Me Relocate</a>
            </div>
            <ul class="nav navbar-nav">
                <li id="home" class="active"><a href="/search">Search</a></li>
                <li id="overview"><a href="/show_city?zipcode={{ zipcode }}">Overview</a></li>
                <li id="school"><a href="/show_school?zipcode={{ zipcode }}">Schools</a></li>  
                <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="/cost_of_living?zipcode={{ zipcode }}">Cost of Living<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                      <li class="active"><a href="#cost-living">Cost of Living</a></li>
                      <li><a href="#price-items">Prices</a></li>
                      <!-- <li><a href="#">Page 1-3</a></li> -->
                    </ul>
                </li>
               
                <li id="crime"><a href="/crime_rate?zipcode={{ zipcode }}">Safety</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
             
             
            {% if "user_id" in session %}
                <li><a href="/logout">Logout</a></li>
                <li><a href="/show_favorites">Show Favorites</a></li>
                <li><a id="favorite"><span id="favorite_star" class="glyphicon glyphicon-star-empty"></span></a></li>
               
            {% else %}
                <li><a href="/register"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
                <li><a href="/login"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
        
           {% endif %}
            </ul>
    </div>
</nav>






        




<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.1/Chart.min.js"></script>
<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>




{% endblock %}